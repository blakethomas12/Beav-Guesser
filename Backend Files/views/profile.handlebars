<main class="profile-main">
    <div class="profile-container">
        <!-- Left Side: Profile Picture & Username -->
        <div class="profile-left">
            <img src="../image_files/profilePlaceholder.png" alt="Profile Picture" class="profile-picture">
            <h1 class="profile-username">{{username}}</h1>
        </div>

        <!-- Right Side: Score, Level, and Buttons -->
        <div class="profile-right">
            <div class="profile-info">
                <h3>High Score: {{high_score}}</h3>
                <h3>Level: {{level}}</h3>
            </div>
            <div class="profile-buttons">
                <button class="edit-button" type="button" onclick="openEditPopup()">Edit Profile</button>
                <button class="logout-button" type="submit" onclick="logout()">Log Out</button>
                <button class="delete-button" type="button" onclick="openDeletePopup()">Delete this Profile</button>
            </div>
        </div>
    </div>
</main>

<!-- Delete Confirmation Popup -->
<div id="delete-popup" class="delete-popup">
    <div class="popup-content">
        <p>Are you sure you want to delete your profile?</p>
        <button class="confirm-delete" onclick="deleteProfile()">Delete</button>
        <button class="cancel-delete" onclick="closeDeletePopup()">Cancel</button>
    </div>
</div>

<!-- Edit Profile Popup -->
<div id="edit-popup" class="edit-popup">
    <div class="popup-content">
        <h2>Edit Profile</h2>
        <form id="editProfileForm">
            <input type="hidden" id="oldUsername" name="oldUsername" value="{{username}}">
            <label for="newUsername">New Username:</label>
            <input type="text" id="newUsername" name="newUsername">

            <label for="newPassword">New Password:</label>
            <input type="password" id="newPassword" name="newPassword">

            <label for="confirmPassword">Confirm New Password:</label>
            <input type="password" id="confirmPassword" name="confirmPassword">

            <button class="update-profile" type="button" onclick="updateProfile()">Save Changes</button>
            <button class="cancel-delete" onclick="closeEditPopup()">Cancel</button>
        </form>
    </div>
</div>